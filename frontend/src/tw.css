@import "tailwindcss";

/* Make dark mode follow the `.dark` class instead of media query */
@custom-variant dark (&:where(.dark, .dark *));

/* Theme tokens for Tailwind v4 */
@theme {
  --font-sans: 'Inter', system-ui, ui-sans-serif, 'Segoe UI', Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
  --color-brand-50:  #eef6ff;
  --color-brand-100: #dbeafe;
  --color-brand-500: #2563eb;
  --color-brand-600: #1d4ed8;
  --color-brand-700: #1e40af;
}

/* Component classes (Tailwind v4-safe: only apply utilities, not other custom classes) */
@layer components {
  html { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
  body { font-family: var(--font-sans); @apply transition-colors duration-200; }

  /* Cards */
  .card {
    @apply bg-white dark:bg-zinc-900 rounded-2xl shadow-sm ring-1 ring-zinc-200 dark:ring-zinc-800;
  }

  /* Buttons */
  .btn         { @apply inline-flex items-center justify-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-colors; }
  .btn-primary { @apply bg-brand-600 text-white hover:bg-brand-700; }
  .btn-ghost   { @apply bg-transparent text-zinc-700 hover:bg-zinc-100 dark:text-zinc-200 dark:hover:bg-zinc-800; }
  .btn-danger  { @apply bg-red-600 text-white hover:bg-red-700; }
  .btn-outline { @apply border border-zinc-300 dark:border-zinc-700 text-zinc-800 dark:text-zinc-100 hover:bg-zinc-50 dark:hover:bg-zinc-800; }

  /* Inputs / selects */
  .input {
    @apply w-full rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 px-3 py-2 text-sm text-zinc-900 dark:text-zinc-100 outline-none focus:ring-2 focus:ring-brand-500;
  }
  /* v4: don't @apply custom classes inside others; expand utilities inline */
  .select {
    @apply w-full rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 px-3 py-2 text-sm text-zinc-900 dark:text-zinc-100 outline-none focus:ring-2 focus:ring-brand-500 pr-8;
  }

  /* Tables */
  .table { @apply w-full border-collapse; }
  .th    { @apply text-left text-xs font-semibold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 border-b border-zinc-200 dark:border-zinc-800 py-3; }
  .td    { @apply text-sm text-zinc-800 dark:text-zinc-100 border-b border-zinc-100 dark:border-zinc-800 py-3; }
  .tr-hover:hover { @apply bg-zinc-50 dark:bg-zinc-800/60; }

  /* Badges */
  .badge        { @apply inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium; }
  .badge-green  { @apply bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300; }
  .badge-amber  { @apply bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300; }
  .badge-sky    { @apply bg-sky-100 text-sky-800 dark:bg-sky-900/30 dark:text-sky-300; }

  /* Modal */
  .modal-overlay { @apply fixed inset-0 bg-black/40 backdrop-blur-sm grid place-items-center p-4; }
  .modal-card    { @apply bg-white dark:bg-zinc-900 rounded-2xl shadow-sm ring-1 ring-zinc-200 dark:ring-zinc-800 w-full max-w-xl p-5; }
}